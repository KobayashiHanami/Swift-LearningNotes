# 4.2-é›†åˆç±»å‹: é›†åˆ

`Set<Element>`,æ²¡æœ‰ç®€å†™

æ— åº/åŒç±»å‹/ä¸å¯é‡å¤/æ— æ³•æŒ‡å®šçš„ ä¸€å †æ•°æ®`<Element>`

å¿…é¡»éµå¾ª `Hashable` åè®®,å³å¯å“ˆå¸Œ

å› ä¸ºæ— åº,æ‰€ä»¥æ²¡æœ‰ç´¢å¼•

è¢«æ¡¥æ¥åˆ° Foundation ä¸­çš„ `NSSet` ç±»

ç‰¹æ€§:æ–¹ä¾¿è¿›è¡Œé›†åˆè¿ç®—

åªèƒ½é€šè¿‡æ–¹æ³•å’Œå±æ€§å¯¹é›†åˆè¿›è¡Œæ“ä½œ,è¦æŒ‡å®šç‰¹å®šå€¼

## 1.å“ˆå¸Œ

`Hsah`ä¼šæ¯”è¾ƒæ˜¯å¦é‡å¤

ç›¸ç­‰çš„å¯¹è±¡å“ˆå¸Œå€¼å¿…é¡»ç›¸åŒï¼Œæ¯”å¦‚ `a == b`,å› æ­¤å¿…é¡» `a.hashValue == b.hashValue`

`Hash` çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ª `function`

Swift å¤„ç†é‡å¤çš„ `hash`å€¼ä¼šä½¿ç”¨ Linear probing

Swift çš„æ‰€æœ‰åŸºæœ¬ç±»å‹, `String`ã€`Int`ã€`Double` å’Œ `Bool`ä»¥åŠ`enum`.é»˜è®¤éƒ½æ˜¯å¯å“ˆå¸ŒåŒ–çš„

## 2.åˆå§‹åŒ–

å› ä¸ºé›†åˆå’Œæ•°æ®ä½¿ç”¨çš„å­—é¢é‡å†™æ³•ä¸€æ ·,éƒ½æ˜¯`[]`

æ‰€ä»¥åˆé›†ç±»å‹æ— æ³•è¢«æ¨æ–­, å¿…é¡»æ˜¾å¼å£°æ˜

### å£°æ˜ç©ºåˆé›†

ä½¿ç”¨æ„é€ è¯­æ³•å£°æ˜ç©ºé›†åˆ

æ ¹æ®ä¸Šä¸‹æ–‡å·²ç»æ˜ç¡®è¢«æ¨æ–­ç±»å‹

ä½¿ç”¨å­—é¢é‡å£°æ˜ç©ºé›†åˆ

```swift
var someInts<String>
var someInts = Set<String>()

letters.insert("a")
letters = []

var yq: Set<String> = []
var yq: Set<String> = ["æŠ½çƒŸ", "å–é…’", "çƒ«å¤´"]
var yq: Set = ["æŠ½çƒŸ", "å–é…’", "çƒ«å¤´"]
```

## 3.æ“ä½œ

### å±æ€§

|          |      |
| -------- | ---- |
| .count   |      |
| .isEmpty |      |

### æ–¹æ³•

|               |                   |
| ------------- | ----------------- |
| .contains(_:) | æ£€æŸ¥åŒ…å«ç‰¹å®šå€¼    |
| .insert()     | æ’å…¥              |
| .sorted()     | æ’åº,ä¾¿äºéå†     |
| .update       | æ— è®ºæ˜¯å¦æœ‰,éƒ½æ›¿æ¢ |
| .filter()     | æ¡ä»¶æŸ¥æ‰¾          |

### éå†

`for-in` å¾ªç¯

å› ä¸ºæ— åº,ä¸ºäº†ä»¥ç‰¹å®šçš„é¡ºåºéå†å¸¸ä½¿ç”¨ `.sorted()` æ–¹æ³•

```swift
for item in yq.sorted() {
  print(item)
}
```

### ä» Array è½¬æ¢æˆ Set

ç”¨äºæ¸…ç†æ•°æ®

```swift
let array = []
let set = Set(array)
```

## 4.æ‰§è¡Œé›†åˆå…³ç³»

### åŸºæœ¬é›†åˆæ“ä½œå…³ç³»

| **é›†åˆå…³ç³»**             | **åŠŸèƒ½**                                                     |
| ------------------------ | ------------------------------------------------------------ |
| A == B                   | æ–¹æ³•,åˆ¤æ–­å…¨ç­‰                                                |
| A.intersection(B)        | æ–¹æ³•,æ ¹æ®äº¤é›†åˆ›å»ºæ–°é›†åˆã€‚                                    |
| A.symmetricDifference(B) | æ–¹æ³•,æ ¹æ®ä¸ç›¸äº¤é›†åˆ›å»ºæ–°é›†åˆã€‚                                |
| A.union(B)               | æ–¹æ³•,æ ¹æ®æ‰€æœ‰çš„å€¼(A+B)åˆ›å»ºæ–°é›†åˆã€‚                           |
| A.subtracting(B)         | æ–¹æ³•,æ ¹æ®ä¸åœ¨å¦ä¸€ä¸ªé›†åˆä¸­çš„å€¼(A-B)åˆ›å»ºæ–°é›†åˆã€‚ä½ç½®äº¤æ¢,ç»“æœä¼šä¸ä¸€æ · |

![4-CollectionTypes-6](./Resources/4-CollectionTypes-6.png)

### é›†åˆæˆå‘˜å…³ç³»

| **é›†åˆæˆå‘˜å…³ç³»**          | **åŠŸèƒ½**                                     |
| ------------------------- | -------------------------------------------- |
| A.isSubset(of: B)         | æ–¹æ³•,åˆ¤æ–­Aæ˜¯å¦ä¸ºBçš„å­é›†.Açš„æ‰€æœ‰å€¼æ˜¯å¦éƒ½åœ¨Bé‡Œ |
| A.isSuperset(of: B)       | æ–¹æ³•,åˆ¤æ–­Aæ˜¯å¦ä¸ºBçš„è¶…é›†,Aæ˜¯å¦åŒ…å«å…¨éƒ¨Bçš„å€¼   |
| A.isDisjoint(with: B)     | æ–¹æ³•,ä¸¤ä¸ªé›†åˆä¸ç›¸äº¤ä¸ºtrue                    |
| A.isStrictSubset(of: B)   | æ–¹æ³•,åˆ¤æ–­Aæ˜¯å¦æ˜¯Bçš„å­é›†,ä¸”ä¸¤ä¸ªé›†åˆä¸ç›¸ç­‰     |
| A.isStrictSuperset(of: B) | æ–¹æ³•,åˆ¤æ–­Aæ˜¯å¦æ˜¯Bçš„çˆ¶é›†,ä¸”ä¸¤ä¸ªé›†åˆä¸ç›¸ç­‰     |

![4-CollectionTypes-7](./Resources/4-CollectionTypes-7.png)

```swift
import Foundation

let A: Set = ["ğŸ¶", "ğŸ±"]
let B: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let C: Set = ["ğŸ¦", "ğŸ­"]

print(A.intersection(B).sorted())
print(A.symmetricDifference(B).sorted())
print(A.union(B).sorted())
print(A.subtracting(B).sorted())
```

---

ä»¥ä¸Š